package action;

import entity.Devices;
import entity.Users;
import service.DevicesDAO;
import service.UsersDAO;
import serviceimpl.DevicesDAOImpl;
import serviceimpl.UsersDAOImpl;

public class DevicesAction extends SuperAction {
	
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;

	public String listDeviceDetails()
	{
		
		String deviceID = request.getParameter("deviceID");
		String uid = request.getParameter("uid");
		System.out.println("In listDeviceDetails(), deviceID = " + deviceID + ", uid = " + uid);
		
		DevicesDAO deviceDAO = new DevicesDAOImpl();
		Devices deviceInfo = deviceDAO.getDeviceInfo(deviceID);
		
		UsersDAO userDAO = new UsersDAOImpl();
		Users userInfo = userDAO.queryUsersBySid(uid);
		
		request.setAttribute("deviceinfo", deviceInfo);
		request.setAttribute("userinfo", userInfo);
		
		return "device_list_detail_success";
		
				
	}

}
