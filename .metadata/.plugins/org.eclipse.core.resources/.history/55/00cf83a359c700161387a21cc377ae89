package util;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;

import org.jfree.chart.ChartUtilities;
import org.jfree.chart.JFreeChart;
import org.jfree.data.category.CategoryDataset;
import org.jfree.data.category.DefaultCategoryDataset;

public class Utils {
	public static CategoryDataset createDataSet(int[] values)
	{
		DefaultCategoryDataset dataSet = new DefaultCategoryDataset();		
//		mDataset.addValue(2000, "清华大学", "本科生");
//		mDataset.addValue(1500, "清华大学", "研究生");
//		mDataset.addValue(1000, "清华大学", "博士生");
//		mDataset.addValue(900, "清华大学", "讲师");
//		mDataset.addValue(800, "清华大学", "副教授");
//		mDataset.addValue(300, "清华大学", "教授");
//		mDataset.addValue(600, "清华大学", "行政人员");
//		mDataset.addValue(400, "清华大学", "管理人员");
		
		for(int i = 0; i < values.length; i ++)
		{
			dataSet.addValue(values[i], "", "");
		}
		return dataSet;
	}
	
	public static void saveAsFile(JFreeChart chart, String outputPath,  
            int width, int height) {  
        FileOutputStream out = null;  
        try {  
            File outFile = new File(outputPath);  
            if (!outFile.getParentFile().exists()) {  
                outFile.getParentFile().mkdirs();  
            }  
            out = new FileOutputStream(outputPath);             
            // 保存为JPEG  
            ChartUtilities.writeChartAsJPEG(out, chart, width, height);  
            out.flush();  
        } catch (FileNotFoundException e) {  
            e.printStackTrace();  
        } catch (IOException e) {  
            e.printStackTrace();  
        } finally {  
            if (out != null) {  
                try {  
                    out.close();  
                } catch (IOException e) {  
                    // do nothing  
                	e.printStackTrace();
                }  
            }  
        }  
    }
	
	public static genLineChart(CategoryDataset dataSet, String chartTitle, String outputFilename)
	{
		
	}

}
