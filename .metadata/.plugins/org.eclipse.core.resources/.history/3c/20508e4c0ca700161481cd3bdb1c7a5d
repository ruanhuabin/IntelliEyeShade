package serviceimpl;

import entity.PageBean;
import service.PageBeanDAO;

public class PageBeanDAOImpl implements PageBeanDAO {

	@Override
	public PageBean getPageBean(int pageSize, int page) {
		// TODO Auto-generated method stub
		
		PageBean pageBean = new PageBean();
        
        String hql = "from Users";
        
        int allRows = personDAO.getAllRowCount(hql);
        
        int totalPage = pageBean.getTotalPages(pageSize, allRows);
        
        int currentPage = pageBean.getCurPage(page);
        
        int offset = pageBean.getCurrentPageOffset(pageSize, currentPage);
        
        List<Users> list = personDAO.queryByPage(hql, offset, pageSize);
        
        pageBean.setList(list);
        pageBean.setAllRows(allRows);
        pageBean.setCurrentPage(currentPage);
        pageBean.setTotalPage(totalPage);
		return null;
	}

}
